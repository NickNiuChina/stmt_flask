{% extends 'base.html' %}

{% block title %}学生管理{% endblock %}
{% block content %}

{# Content Wrapper. Contains page content #}
<div class="content-wrapper">

	{# Content Header (Page header) #}
	<div class="content-header">
		<div class="container-fluid">
		<div class="row mb-2">
			<div class="col-sm-6">
			<h1 class="m-0">Student management page</h1>
			</div><!-- /.col -->
			<div class="col-sm-6">
			<ol class="breadcrumb float-sm-right">
				<li class="breadcrumb-item"><a href="{{ url_for('stmt.index') }}">Home</a></li>
				<li class="breadcrumb-item active">Main</li>
			</ol>
			</div>
		</div>
		</div>
	</div>
	{#  content-header END #}

    <section class="content">
	  <div class="container-fluid">
			<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
				<div class="row">
					<div class="col-sm-5">
						<button type="button" class="btn btn-primary" data-toggle="modal"
							data-target="#addStudent">Add student</button>
					</div>
				</div>
				{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
					<ul class=flashes>
					{% for category, message in messages %}
					<div class="text-{{ category }}">{{ message }}</div>
					{% endfor %}
					</ul>
				{% endif %}
				{% endwith %}

				<div class="table-responsive">
					<table id="tb_students_list" class="table table-striped table-bordered table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>StudentNO</th>
								<th>Name</th>
								<th>Gender</th>
								<th>Age</th>
								<th>Enroll year</th>
								<th>Operation</th>
							</tr>
						</thead>

						<tfoot>
							<tr>
								<th>#</th>
								<th>StudentNO</th>
								<th>Name</th>
								<th>Gender</th>
								<th>Age</th>
								<th>Enroll year</th>
								<th>Operation</th>
							</tr>
						</tfoot>
					</table>
				</div>

			</div>


	{# add student  #}
	<div class="modal fade" id="addStudent" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<form action="{{ url_for('stmt.addStudent') }}" method="post">
					<div class="modal-header">
						<h4 class="modal-title" id="myModalLabel">录入学生信息</h4>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label for="student-no" class="control-label">学号:</label> 
							<input type="text" class="form-control" name="student_no" id="student-no" required>
						</div>

						<div class="form-group">
							<label for="student-name" class="control-label">姓名:</label> 
							<input type="text" class="form-control" name="student_name" id="student-name" required>
						</div>

						<div class="form-group">
							<label for="id-card" class="control-label">身份证号:</label> 
							<input type="text" class="form-control" name="id_card" id="id-card" required>
						</div>

						<div class="form-group">
							<label for="gender" class="control-label">性别:</label> 
							<select class="form-control" name="gender" id="gender">
								<option value="1">男</option>
								<option value="2">女</option>
							</select>
						</div>

						<div class="form-group">
							<label for="age" class="control-label">年龄:</label> 
							<input type="text" class="form-control" name="age"  id="age" required>
						</div>

						<div class="form-group">
							<label for="year" class="control-label">入学年份:</label> 
							<input type="text" class="form-control" name="year" id="year" required>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="submit" class="btn btn-primary">提交</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	{# update student #}
	<div class="modal fade" id="updateStudent" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<form action="{{ url_for('stmt.updateStudent') }}" method="post">
					<div class="modal-header">
						<h4 class="modal-title" id="udpate-myModalLabel">更新学生信息</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						
					</div>
					<div class="modal-body">
		
						<div class="form-group">
							<label for="update-student-no" class="control-label">学号:</label> 
							<input type="text" readonly class="form-control" name="studentNo" id="update-student-no">
						</div>

						<div class="form-group">
							<label for="update-student-name" class="control-label">姓名:</label> 
							<input type="text" class="form-control"  name="studentName" id="update-student-name" required>
						</div>

						<div class="form-group">
							<label for="update-id-card" class="control-label">身份证号:</label> 
							<input type="text" class="form-control" name="idCard" id="update-id-card" required>
						</div>


						<div class="form-group">
							<label for="update-gender" class="control-label">性别:</label> 
							<select class="form-control" name="gender" id="udpate-gender">
								<option value="1">男</option>
								<option value="2">女</option>
							</select>
						</div>

						<div class="form-group">
							<label for="update-age" class="control-label">年龄:</label> 
							<input type="text" class="form-control" name="age" id="update-age" required>
						</div>

						<div class="form-group">
							<label for="update-year" class="control-label">入学年份:</label> 
							<input type="text" class="form-control" name="year" id="update-year" required>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
						<button type="submit" class="btn btn-primary">提交</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	{# delete student #}
	<div class="modal fade" id="deleteStudent" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<form action="{{ url_for('stmt.deleteStudent') }}" method="post">
					<div class="modal-header">
						<h4 class="modal-title" id="udpate-myModalLabel">删除学生信息</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>						
					</div>
					<div class="modal-body">
						确认要删除该同学的所有信息吗（该操作不可逆）？
						<div class="form-group hidden">
							<label for="delete-student" class="control-label">学号:</label> 
							<input type="text" class="form-control" name="student_no" id="delete-student-no" readonly>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
						<button type="button submit" class="btn btn-danger">删除</button>
					</div>
				</form>
			</div>
		</div>
	</div>
  </div>
</section>
</div>



{% endblock %}